<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>log viewer</title>
  </head>
  <body>


    <script src='https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.16.2/lodash.js'></script>
    <script>
      var log = [{"nextState":{"clusters":{"q9lejpt":{"id":"q9lejpt","data":{"particles":[]}},"hx1cf01":{"id":"hx1cf01","data":{"particles":[]}}},"clients":{"yapb213":{"id":"yapb213","size":{"width":410.93697106001093,"height":639.2352883155726},"transform":{"x":0,"y":0},"adjacentClientIDs":[],"clusterID":"q9lejpt","openings":{"top":[],"bottom":[],"right":[],"left":[]},"data":{}},"lplgj8o":{"id":"lplgj8o","size":{"width":388.52222718401026,"height":565.5156862345038},"transform":{"x":0,"y":0},"adjacentClientIDs":["r14eptr"],"clusterID":"hx1cf01","openings":{"left":[],"top":[],"right":[],"bottom":[{"start":0,"end":594.2875578885064}]},"data":{}},"r14eptr":{"id":"r14eptr","size":{"width":722.3760000000001,"height":871.9304062500001},"transform":{"x":-128.08844211149363,"y":565.5156862345038},"adjacentClientIDs":["lplgj8o"],"clusterID":"hx1cf01","openings":{"left":[],"top":[{"start":128.08844211149363,"end":516.6106692955038}],"right":[],"bottom":[]},"data":{}}},"swipes":[{"id":"r14eptr","position":{"x":35.742562500000005,"y":452.4255937500001},"direction":"LEFT","timestamp":1475394474230}]},"prevState":{"clusters":{"q9lejpt":{"id":"q9lejpt","data":{"particles":[]}},"hx1cf01":{"id":"hx1cf01","data":{"particles":[]}}},"clients":{"yapb213":{"id":"yapb213","size":{"width":410.93697106001093,"height":639.2352883155726},"transform":{"x":0,"y":0},"adjacentClientIDs":[],"clusterID":"q9lejpt","openings":{"top":[],"bottom":[],"right":[],"left":[]},"data":{}},"lplgj8o":{"id":"lplgj8o","size":{"width":388.52222718401026,"height":565.5156862345038},"transform":{"x":0,"y":0},"adjacentClientIDs":["r14eptr"],"clusterID":"hx1cf01","openings":{"left":[],"top":[],"right":[],"bottom":[{"start":0,"end":594.2875578885064}]},"data":{}},"r14eptr":{"id":"r14eptr","size":{"width":722.3760000000001,"height":871.9304062500001},"transform":{"x":-128.08844211149363,"y":565.5156862345038},"adjacentClientIDs":["lplgj8o"],"clusterID":"hx1cf01","openings":{"left":[],"top":[{"start":128.08844211149363,"end":516.6106692955038}],"right":[],"bottom":[]},"data":{}}},"swipes":[{"id":"r14eptr","position":{"x":35.742562500000005,"y":452.4255937500001},"direction":"LEFT","timestamp":1475394474230}]},"action":{"type":"SWIPE","data":{"id":"yapb213","position":{"x":401.42491275365495,"y":402.5664043399327},"direction":"RIGHT"}}},{"action":{"type":"SWIPE","data":{"id":"r14eptr","position":{"x":35.742562500000005,"y":452.4255937500001},"direction":"LEFT"}},"prevState":{"clusters":{"q9lejpt":{"id":"q9lejpt","data":{"particles":[]}},"hx1cf01":{"id":"hx1cf01","data":{"particles":[]}}},"clients":{"yapb213":{"id":"yapb213","size":{"width":410.93697106001093,"height":639.2352883155726},"transform":{"x":0,"y":0},"adjacentClientIDs":[],"clusterID":"q9lejpt","openings":{"top":[],"bottom":[],"right":[],"left":[]},"data":{}},"lplgj8o":{"id":"lplgj8o","size":{"width":388.52222718401026,"height":565.5156862345038},"transform":{"x":0,"y":0},"adjacentClientIDs":["r14eptr"],"clusterID":"hx1cf01","openings":{"left":[],"top":[],"right":[],"bottom":[{"start":0,"end":594.2875578885064}]},"data":{}},"r14eptr":{"id":"r14eptr","size":{"width":722.3760000000001,"height":871.9304062500001},"transform":{"x":-128.08844211149363,"y":565.5156862345038},"adjacentClientIDs":["lplgj8o"],"clusterID":"hx1cf01","openings":{"left":[],"top":[{"start":128.08844211149363,"end":516.6106692955038}],"right":[],"bottom":[]},"data":{}}},"swipes":[]},"nextState":{"clusters":{"q9lejpt":{"id":"q9lejpt","data":{"particles":[]}},"hx1cf01":{"id":"hx1cf01","data":{"particles":[]}}},"clients":{"yapb213":{"id":"yapb213","size":{"width":410.93697106001093,"height":639.2352883155726},"transform":{"x":0,"y":0},"adjacentClientIDs":[],"clusterID":"q9lejpt","openings":{"top":[],"bottom":[],"right":[],"left":[]},"data":{}},"lplgj8o":{"id":"lplgj8o","size":{"width":388.52222718401026,"height":565.5156862345038},"transform":{"x":0,"y":0},"adjacentClientIDs":["r14eptr"],"clusterID":"hx1cf01","openings":{"left":[],"top":[],"right":[],"bottom":[{"start":0,"end":594.2875578885064}]},"data":{}},"r14eptr":{"id":"r14eptr","size":{"width":722.3760000000001,"height":871.9304062500001},"transform":{"x":-128.08844211149363,"y":565.5156862345038},"adjacentClientIDs":["lplgj8o"],"clusterID":"hx1cf01","openings":{"left":[],"top":[{"start":128.08844211149363,"end":516.6106692955038}],"right":[],"bottom":[]},"data":{}}},"swipes":[{"id":"r14eptr","position":{"x":35.742562500000005,"y":452.4255937500001},"direction":"LEFT","timestamp":1475394474230}]}},{"action":{"type":"SWIPE","data":{"id":"lplgj8o","position":{"x":184.18868288850638,"y":604.0085174612877},"direction":"DOWN"}},"prevState":{"clusters":{"q9lejpt":{"id":"q9lejpt","data":{"particles":[]}},"hx1cf01":{"id":"hx1cf01","data":{"particles":[]}},"xaoi998":{"id":"xaoi998","data":{"particles":[]}}},"clients":{"yapb213":{"id":"yapb213","size":{"width":410.93697106001093,"height":639.2352883155726},"transform":{"x":0,"y":0},"adjacentClientIDs":[],"clusterID":"q9lejpt","openings":{"top":[],"bottom":[],"right":[],"left":[]},"data":{}},"lplgj8o":{"id":"lplgj8o","size":{"width":388.52222718401026,"height":565.5156862345038},"transform":{"x":0,"y":0},"adjacentClientIDs":[],"clusterID":"hx1cf01","openings":{"top":[],"bottom":[],"right":[],"left":[]},"data":{}},"r14eptr":{"id":"r14eptr","size":{"width":722.3760000000001,"height":871.9304062500001},"transform":{"x":0,"y":0},"adjacentClientIDs":[],"clusterID":"xaoi998","openings":{"top":[],"bottom":[],"right":[],"left":[]},"data":{}}},"swipes":[{"id":"r14eptr","position":{"x":312.277125,"y":-91.23759375000002},"direction":"UP","timestamp":1475394472697}]},"nextState":{"clusters":{"q9lejpt":{"id":"q9lejpt","data":{"particles":[]}},"hx1cf01":{"id":"hx1cf01","data":{"particles":[]}}},"clients":{"yapb213":{"id":"yapb213","size":{"width":410.93697106001093,"height":639.2352883155726},"transform":{"x":0,"y":0},"adjacentClientIDs":[],"clusterID":"q9lejpt","openings":{"top":[],"bottom":[],"right":[],"left":[]},"data":{}},"lplgj8o":{"id":"lplgj8o","size":{"width":388.52222718401026,"height":565.5156862345038},"transform":{"x":0,"y":0},"adjacentClientIDs":["r14eptr"],"clusterID":"hx1cf01","openings":{"left":[],"top":[],"right":[],"bottom":[{"start":0,"end":594.2875578885064}]},"data":{}},"r14eptr":{"id":"r14eptr","size":{"width":722.3760000000001,"height":871.9304062500001},"transform":{"x":-128.08844211149363,"y":565.5156862345038},"adjacentClientIDs":["lplgj8o"],"clusterID":"hx1cf01","openings":{"left":[],"top":[{"start":128.08844211149363,"end":516.6106692955038}],"right":[],"bottom":[]},"data":{}}},"swipes":[]}},{"action":{"type":"SWIPE","data":{"id":"r14eptr","position":{"x":312.277125,"y":-91.23759375000002},"direction":"UP"}},"prevState":{"clusters":{"q9lejpt":{"id":"q9lejpt","data":{"particles":[]}},"hx1cf01":{"id":"hx1cf01","data":{"particles":[]}},"xaoi998":{"id":"xaoi998","data":{"particles":[]}}},"clients":{"yapb213":{"id":"yapb213","size":{"width":410.93697106001093,"height":639.2352883155726},"transform":{"x":0,"y":0},"adjacentClientIDs":[],"clusterID":"q9lejpt","openings":{"top":[],"bottom":[],"right":[],"left":[]},"data":{}},"lplgj8o":{"id":"lplgj8o","size":{"width":388.52222718401026,"height":565.5156862345038},"transform":{"x":0,"y":0},"adjacentClientIDs":[],"clusterID":"hx1cf01","openings":{"top":[],"bottom":[],"right":[],"left":[]},"data":{}},"r14eptr":{"id":"r14eptr","size":{"width":722.3760000000001,"height":871.9304062500001},"transform":{"x":0,"y":0},"adjacentClientIDs":[],"clusterID":"xaoi998","openings":{"top":[],"bottom":[],"right":[],"left":[]},"data":{}}},"swipes":[]},"nextState":{"clusters":{"q9lejpt":{"id":"q9lejpt","data":{"particles":[]}},"hx1cf01":{"id":"hx1cf01","data":{"particles":[]}},"xaoi998":{"id":"xaoi998","data":{"particles":[]}}},"clients":{"yapb213":{"id":"yapb213","size":{"width":410.93697106001093,"height":639.2352883155726},"transform":{"x":0,"y":0},"adjacentClientIDs":[],"clusterID":"q9lejpt","openings":{"top":[],"bottom":[],"right":[],"left":[]},"data":{}},"lplgj8o":{"id":"lplgj8o","size":{"width":388.52222718401026,"height":565.5156862345038},"transform":{"x":0,"y":0},"adjacentClientIDs":[],"clusterID":"hx1cf01","openings":{"top":[],"bottom":[],"right":[],"left":[]},"data":{}},"r14eptr":{"id":"r14eptr","size":{"width":722.3760000000001,"height":871.9304062500001},"transform":{"x":0,"y":0},"adjacentClientIDs":[],"clusterID":"xaoi998","openings":{"top":[],"bottom":[],"right":[],"left":[]},"data":{}}},"swipes":[{"id":"r14eptr","position":{"x":312.277125,"y":-91.23759375000002},"direction":"UP","timestamp":1475394472697}]}},{"action":{"type":"CONNECT_CLIENT","data":{"id":"r14eptr","size":{"width":722.3760000000001,"height":871.9304062500001}}},"prevState":{"clusters":{"q9lejpt":{"id":"q9lejpt","data":{"particles":[]}},"hx1cf01":{"id":"hx1cf01","data":{"particles":[]}}},"clients":{"yapb213":{"id":"yapb213","size":{"width":410.93697106001093,"height":639.2352883155726},"transform":{"x":0,"y":0},"adjacentClientIDs":[],"clusterID":"q9lejpt","openings":{"top":[],"bottom":[],"right":[],"left":[]},"data":{}},"lplgj8o":{"id":"lplgj8o","size":{"width":388.52222718401026,"height":565.5156862345038},"transform":{"x":0,"y":0},"adjacentClientIDs":[],"clusterID":"hx1cf01","openings":{"top":[],"bottom":[],"right":[],"left":[]},"data":{}}},"swipes":[]},"nextState":{"clusters":{"q9lejpt":{"id":"q9lejpt","data":{"particles":[]}},"hx1cf01":{"id":"hx1cf01","data":{"particles":[]}},"xaoi998":{"id":"xaoi998","data":{"particles":[]}}},"clients":{"yapb213":{"id":"yapb213","size":{"width":410.93697106001093,"height":639.2352883155726},"transform":{"x":0,"y":0},"adjacentClientIDs":[],"clusterID":"q9lejpt","openings":{"top":[],"bottom":[],"right":[],"left":[]},"data":{}},"lplgj8o":{"id":"lplgj8o","size":{"width":388.52222718401026,"height":565.5156862345038},"transform":{"x":0,"y":0},"adjacentClientIDs":[],"clusterID":"hx1cf01","openings":{"top":[],"bottom":[],"right":[],"left":[]},"data":{}},"r14eptr":{"id":"r14eptr","size":{"width":722.3760000000001,"height":871.9304062500001},"transform":{"x":0,"y":0},"adjacentClientIDs":[],"clusterID":"xaoi998","openings":{"top":[],"bottom":[],"right":[],"left":[]},"data":{}}},"swipes":[]}},{"action":{"type":"disconnect","data":{"id":"pygy2jw"}},"prevState":{"clusters":{"q9lejpt":{"id":"q9lejpt","data":{"particles":[]}},"hx1cf01":{"id":"hx1cf01","data":{"particles":[]}}},"clients":{"yapb213":{"id":"yapb213","size":{"width":410.93697106001093,"height":639.2352883155726},"transform":{"x":0,"y":0},"adjacentClientIDs":[],"clusterID":"q9lejpt","openings":{"top":[],"bottom":[],"right":[],"left":[]},"data":{}},"lplgj8o":{"id":"lplgj8o","size":{"width":388.52222718401026,"height":565.5156862345038},"transform":{"x":0,"y":0},"adjacentClientIDs":[],"clusterID":"hx1cf01","openings":{"top":[],"bottom":[],"right":[],"left":[]},"data":{}}},"swipes":[]},"nextState":{"clusters":{"q9lejpt":{"id":"q9lejpt","data":{"particles":[]}},"hx1cf01":{"id":"hx1cf01","data":{"particles":[]}}},"clients":{"yapb213":{"id":"yapb213","size":{"width":410.93697106001093,"height":639.2352883155726},"transform":{"x":0,"y":0},"adjacentClientIDs":[],"clusterID":"q9lejpt","openings":{"top":[],"bottom":[],"right":[],"left":[]},"data":{}},"lplgj8o":{"id":"lplgj8o","size":{"width":388.52222718401026,"height":565.5156862345038},"transform":{"x":0,"y":0},"adjacentClientIDs":[],"clusterID":"hx1cf01","openings":{"top":[],"bottom":[],"right":[],"left":[]},"data":{}}},"swipes":[]}},{"action":{"type":"CONNECT_CLIENT","data":{"id":"lplgj8o","size":{"width":388.52222718401026,"height":565.5156862345038}}},"prevState":{"clusters":{"q9lejpt":{"id":"q9lejpt","data":{"particles":[]}}},"clients":{"yapb213":{"id":"yapb213","size":{"width":410.93697106001093,"height":639.2352883155726},"transform":{"x":0,"y":0},"adjacentClientIDs":[],"clusterID":"q9lejpt","openings":{"top":[],"bottom":[],"right":[],"left":[]},"data":{}}},"swipes":[]},"nextState":{"clusters":{"q9lejpt":{"id":"q9lejpt","data":{"particles":[]}},"hx1cf01":{"id":"hx1cf01","data":{"particles":[]}}},"clients":{"yapb213":{"id":"yapb213","size":{"width":410.93697106001093,"height":639.2352883155726},"transform":{"x":0,"y":0},"adjacentClientIDs":[],"clusterID":"q9lejpt","openings":{"top":[],"bottom":[],"right":[],"left":[]},"data":{}},"lplgj8o":{"id":"lplgj8o","size":{"width":388.52222718401026,"height":565.5156862345038},"transform":{"x":0,"y":0},"adjacentClientIDs":[],"clusterID":"hx1cf01","openings":{"top":[],"bottom":[],"right":[],"left":[]},"data":{}}},"swipes":[]}},{"action":{"type":"disconnect","data":{"id":"w36tt7p"}},"prevState":{"clusters":{"q9lejpt":{"id":"q9lejpt","data":{"particles":[]}}},"clients":{"yapb213":{"id":"yapb213","size":{"width":410.93697106001093,"height":639.2352883155726},"transform":{"x":0,"y":0},"adjacentClientIDs":[],"clusterID":"q9lejpt","openings":{"top":[],"bottom":[],"right":[],"left":[]},"data":{}}},"swipes":[]},"nextState":{"clusters":{"q9lejpt":{"id":"q9lejpt","data":{"particles":[]}}},"clients":{"yapb213":{"id":"yapb213","size":{"width":410.93697106001093,"height":639.2352883155726},"transform":{"x":0,"y":0},"adjacentClientIDs":[],"clusterID":"q9lejpt","openings":{"top":[],"bottom":[],"right":[],"left":[]},"data":{}}},"swipes":[]}},{"action":{"type":"CONNECT_CLIENT","data":{"id":"yapb213","size":{"width":410.93697106001093,"height":639.2352883155726}}},"prevState":{"clusters":{},"clients":{},"swipes":[]},"nextState":{"clusters":{"q9lejpt":{"id":"q9lejpt","data":{"particles":[]}}},"clients":{"yapb213":{"id":"yapb213","size":{"width":410.93697106001093,"height":639.2352883155726},"transform":{"x":0,"y":0},"adjacentClientIDs":[],"clusterID":"q9lejpt","openings":{"top":[],"bottom":[],"right":[],"left":[]},"data":{}}},"swipes":[]}},{"action":{"type":"disconnect","data":{"id":"4ndj4u8"}},"prevState":{"clusters":{},"clients":{},"swipes":[]},"nextState":{"clusters":{},"clients":{},"swipes":[]}}];

      log = log.reverse();


      log.forEach(function (entry) {

        var name = entry.action.type;

        console.group(name);


        if (entry.action.type === 'SWIPE') {

          console.log(entry.prevState.clients[entry.action.data.id].size);
          console.log(entry.prevState.clients[entry.action.data.id].transform);

        }


        console.log(entry.action.data);


        _(entry.nextState.clients)
          .groupBy(function (client) {
            return client.clusterID;
          })
          .each(function (clients, clusterID) {
            console.log(clusterID + '' + JSON.stringify(_.map(clients, 'id')));
          });



        console.groupEnd();

      })







    </script>


  </body>
</html>